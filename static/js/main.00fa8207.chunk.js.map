{"version":3,"sources":["assets/images/avatarPhoto.png","api/instance.js","api/api.js","redux/dialogsPageReducer.js","Components/Users/Users.module.css","assets/images/preloader.gif","Components/Navbar/Navbar.jsx","Components/News/News.js","Components/Music/Music.js","Components/Settings/Settings.js","Components/utils/object-helpers.js","redux/usersPageReducer.js","Components/common/paginator/Paginator.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","redux/useres-selectors.js","Components/Users/UsersContainer.js","Components/Header/Header.jsx","redux/auth-reducer.js","Components/Header/HeaderContainer.js","Components/Login/Login.jsx","redux/app-reducer.js","hoc/withSuspense.js","App.js","redux/redux-store.js","index.js","Components/Navbar/Navbar.module.css","Components/common/formsControls/FormControls.js","Components/common/formsControls/FormControl.module.css","Components/common/Preloader/Preloader.js","Components/utils/validators/validators.js","Components/common/paginator/Paginator.module.css","Components/Header/Header.module.css","hoc/WithAuthRedirect.js","redux/profilePageReducer.js"],"names":["module","exports","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","followUser","id","post","unfollowUser","delete","profileAPI","getProfile","userId","getStatus","updateStatus","status","put","savePhoto","filePhoto","formData","FormData","append","authAPI","me","login","email","password","remeberMe","logout","initialState","messagesData","message","dialogsData","name","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","newMessage","Navbar","className","classes","nav","item","activeClassName","activeLink","to","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjectProps","map","u","users","totalUserCount","isFetching","isFollowingProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingIsProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","userReducer","followed","filter","Paginator","totalItemsCount","onPageChanged","portionsize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","key","e","User","user","unfollow","follow","src","photos","small","userPhoto","disabled","some","Users","props","portionSize","getPageSize","createSelector","getTotalUserCount","getCurrentPage","getIsFetching","getIsFollowingProgress","UsersContainer","requestUsers","this","Preloader","React","Component","compose","connect","bind","page","response","totalCount","withAuthRedirect","Header","header","loginBlock","isAuth","SET_USER_DATA","initalState","setAuthUserData","getAuthUserData","authReducer","HeaderContainer","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","style","formSummaryError","rememberMe","messages","length","stopSubmit","_error","initialized","appReducer","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","component","then","reducers","combineReducers","profileReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","Textarea","input","meta","hasError","touched","styles","formControl","placeholder","validators","text","validate","preloader","value","maxLength","mapStateToPropsForRedirect","RedirectComponent","postsData","likeCount","profile","addPostActionCreator","newPostBody","setStatus","getUserProfile","file","newPost","postId"],"mappings":"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","file":"static/js/main.00fa8207.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatarPhoto.f1664a55.png\";","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {'API-KEY': 'b4e70832-d7f2-4bf3-a44f-4c30bbf3ab78'}\r\n})\r\n\r\n\r\nexport default instance;","import instance from \"./instance\";\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    },\r\n\r\n    followUser(id) {\r\n        return instance.post(`follow/${id}`)\r\n    },\r\n\r\n    unfollowUser(id) {\r\n        return instance.delete(`follow/${id}`)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status: status});\r\n    },\r\n\r\n    savePhoto(filePhoto) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", filePhoto)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n\r\n    login(email, password, remeberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, remeberMe})\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\n\r\n","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    messagesData: [\r\n        {id: 1, message: 'Hello my friend!'},\r\n        {id: 2, message: 'Good'},\r\n        {id: 3, message: 'Where are you?'},\r\n        {id: 4, message: 'Minsk!'}\r\n    ],\r\n    dialogsData: [\r\n        {id: 1, name: 'Sveta'},\r\n        {id: 2, name: 'Alex'},\r\n        {id: 3, name: 'Dima'},\r\n        {id: 4, name: 'Andrey'},\r\n        {id: 5, name: 'Valera'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMessage = {\r\n                id: 5,\r\n                message: action.newMessageBody\r\n            };\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, newMessage]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => {\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        newMessageBody\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2TSn7\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.73919b14.gif\";","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink activeClassName={classes.activeLink} to='/profile'>\r\n                    Profile\r\n                </NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink activeClassName={classes.activeLink} to='/dialogs'>\r\n                    Messages\r\n                </NavLink>\r\n            </div>\r\n            {/*<div className={classes.item}>*/}\r\n            {/*    <NavLink activeClassName={classes.activeLink} to='/news'>*/}\r\n            {/*        News*/}\r\n            {/*    </NavLink>*/}\r\n            {/*</div>*/}\r\n            {/*<div className={classes.item}>*/}\r\n            {/*    <NavLink activeClassName={classes.activeLink} to='/music'>*/}\r\n            {/*        Music*/}\r\n            {/*    </NavLink>*/}\r\n            {/*</div>*/}\r\n            <div className={classes.item}>\r\n                <NavLink activeClassName={classes.activeLink} to='/users'>\r\n                    Users\r\n                </NavLink>\r\n            </div>\r\n            {/*<div className={classes.item}>*/}\r\n            {/*    <NavLink activeClassName={classes.activeLink} to='/settings'>*/}\r\n            {/*        Settings*/}\r\n            {/*    </NavLink>*/}\r\n            {/*</div>*/}\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport classes from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport classes from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport classes from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjectProps) => {\r\n    return  items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjectProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../Components/utils/object-helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUserCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isFollowingProgress: []\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                    // state.users.map(u => {\r\n                    // if (u.id === action.userId) {\r\n                    //     return {...u, followed: true}\r\n                    // }\r\n                    // return u;\r\n                // })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n                //     state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: false}\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state, totalUserCount: action.totalUserCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                isFollowingProgress: action.isFetching\r\n                    ? [...state.isFollowingProgress, action.userId]\r\n                    : state.isFollowingProgress.filter(id => !id == action.userId)\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const unfollowSuccess = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    }\r\n}\r\n\r\nexport const setTotalUsersCount = (count) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalUserCount: count\r\n    }\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\n\r\nexport const toggleFollowingIsProgress = (isFetching, userId) => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isFetching,\r\n        userId\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingIsProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingIsProgress(false, userId))\r\n\r\n}\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page));\r\n    let response = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(response.data.items));\r\n    dispatch(setTotalUsersCount(response.data.totalCount));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), followSuccess);\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollowUser.bind(usersAPI), unfollowSuccess);\r\n}\r\n\r\nexport default userReducer;","import React, {useState} from 'react';\r\nimport classes from \"./Paginator.module.css\";\r\nimport cn from 'classnames';\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionsize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionsize)\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionsize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionsize;\r\n\r\n    return (<div className={classes.paginator}>\r\n        {portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</button>}\r\n        {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={ cn({\r\n                    [classes.selectedPage]: currentPage === p\r\n                }, classes.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber && <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>Next</button>}\r\n    </div>)\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport userPhoto from '../../assets/images/avatarPhoto.png';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\nconst User = ({user, isFollowingProgress, unfollow, follow}) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={classes.userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={isFollowingProgress.some(id => id === user.id)} onClick={() => {unfollow(user.id)}}>Unfollow</button>\r\n                        : <button disabled={isFollowingProgress.some(id => id === user.id)} onClick={() => {follow(user.id)}}>Follow</button>}\r\n                        </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>\r\n                        {user.name}\r\n                    </div>\r\n                    <div>\r\n                        {user.status}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <div>\r\n                        {'user.location.country'}\r\n                    </div>\r\n                    <div>\r\n                        {'user.location.city'}\r\n                    </div>\r\n                </span>\r\n            </span>\r\n    </div>)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from \"../common/paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nconst Users = ({currentPage, totalUserCount, pageSize, onPageChanged, users, portionSize, ...props}) => {\r\n\r\n\r\n    return <div>\r\n\r\n        <Paginator currentPage={currentPage} totalItemsCount={totalUserCount} pageSize={pageSize} onPageChanged={onPageChanged}/>\r\n\r\n        {\r\n            users.map(u => <User user={u} key={u.id} isFollowingProgress={props.isFollowingProgress} follow={props.follow} unfollow={props.unfollow} />)\r\n        }\r\n\r\n    </div>\r\n}\r\n\r\nexport default Users;","import {createSelector} from 'reselect';\r\n\r\nexport const getUsers = (state) => {\r\n    return state.userReducer.users\r\n}\r\n\r\nexport const getUsersSuper = createSelector(() => {\r\n\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.userReducer.pageSize\r\n}\r\n\r\nexport const getTotalUserCount = (state) => {\r\n    return state.userReducer.totalUserCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.userReducer.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.userReducer.isFetching\r\n}\r\n\r\nexport const  getIsFollowingProgress = (state) => {\r\n    return state.userReducer.isFollowingProgress\r\n}\r\n\r\nexport const getPortionSize = (state) => {\r\n    return state.userReducer.portionSize\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unfollow,\r\n    toggleFollowingIsProgress,\r\n    requestUsers\r\n} from '../../redux/usersPageReducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getIsFetching, getIsFollowingProgress,\r\n    getPageSize, getPortionSize,\r\n    getTotalUserCount,\r\n    getUsers\r\n} from \"../../redux/useres-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUserCount={this.props.totalUserCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   users={this.props.users}\r\n                   onPageChanged={this.onPageChanged}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   isFollowingProgress={this.props.isFollowingProgress}\r\n                   toggleFollowingIsProgress={this.props.toggleFollowingIsProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n// //     return {\r\n// //         users: state.userReducer.users,\r\n// //         pageSize: state.userReducer.pageSize,\r\n// //         totalUserCount: state.userReducer.totalUserCount,\r\n// //         currentPage: state.userReducer.currentPage,\r\n// //         isFetching: state.userReducer.isFetching,\r\n// //         isFollowingProgress: state.userReducer.isFollowingProgress\r\n// //     }\r\n// // }\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userId) => {\r\n//             dispatch(followAC(userId))\r\n//         },\r\n//         unfollow: (userId) => {\r\n//             dispatch(unfollowAC(userId))\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users))\r\n//         },\r\n//         setCurrentPage: (pageNumber) => {\r\n//             dispatch(setCurrentPageAC(pageNumber))\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setTotalUsersCountAC(totalCount))\r\n//         },\r\n//         toggleIsFetching: (isFetching) => {\r\n//             dispatch(toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUserCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowingProgress: getIsFollowingProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingIsProgress,\r\n    requestUsers\r\n}), withAuthRedirect)(UsersContainer);\r\n\r\n","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img src='http://pngimg.com/uploads/prison/prison_PNG37.png' />\r\n            <div className={classes.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} <button onClick={props.logout}>Log Out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\n\r\nlet initalState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initalState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setAuthUserData = (userId, email, login, isAuth) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: {userId, email, login, isAuth}\r\n    }\r\n}\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.authReducer.isAuth,\r\n    login: state.authReducer.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {Input, createField} from \"../common/formsControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from '../common/formsControls/FormControl.module.css';\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (<form onSubmit={handleSubmit}>\r\n            {createField('Login', 'email', Input, [required, maxLength30])}\r\n            {createField('Password', 'password', Input, [required, maxLength30], 'password')}\r\n            {createField(null, 'remember Me', Input, null, 'checkbox', 'RememberMe')}\r\n        { error && <div className={style.formSummaryError}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n    </form>)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.remeberMe)\r\n    }\r\n    if(props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n    return (<div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>)\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authReducer.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst initislizedSuccess = () => {\r\n    return {\r\n        type: INITIALIZED_SUCCESS\r\n    }\r\n}\r\n\r\nexport const initializeApp = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(getAuthUserData());\r\n        promise.then(() => {\r\n            dispatch(initislizedSuccess())\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport Preloader from \"../Components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            {<Component {...props} />}\r\n        </React.Suspense>\r\n    }\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport Navbar from './Components/Navbar/Navbar.jsx';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport News from './Components/News/News';\nimport Music from './Components/Music/Music';\nimport Settings from './Components/Settings/Settings';\n// import DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\nimport UsersContainer from \"./Components/Users/UsersContainer\";\n// import ProfileContainer from \"./Components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\nimport Login from \"./Components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./Components/common/Preloader/Preloader\";\nimport {withSuspense} from \"./hoc/withSuspense\";\nconst DialogsContainer = React.lazy(() => import(\"./Components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import(\"./Components/Profile/ProfileContainer\"));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if(!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n        <BrowserRouter>\n          <div className='app-wrapper'>\n            <HeaderContainer/>\n            <Navbar/>\n            <div className='app-wrapper-content'>\n              <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n              <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n              <Route path='/users' render={() => <UsersContainer/>}/>\n              <Route path='/login' render={() => <Login/>}/>\n              <Route path='/news' component={News}/>\n              <Route path='/music' component={Music}/>\n              <Route path='/settings' component={Settings}/>\n            </div>\n          </div>\n        </BrowserRouter>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.appReducer.initialized\n})\n\nexport default connect(mapStateToProps, {initializeApp})(App);","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profilePageReducer\";\r\nimport dialogsReducer from \"./dialogsPageReducer\";\r\nimport userReducer from \"./usersPageReducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profileReducer,\r\n    dialogsReducer,\r\n    userReducer,\r\n    authReducer,\r\n    appReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from \"./redux/redux-store\";\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3bZ0i\",\"item\":\"Navbar_item__25ZX3\",\"activeLink\":\"Navbar_activeLink__2eHPT\"};","import React from 'react';\r\nimport styles from './FormControl.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const createField = (placeholder, name, component, validators, type = null, text = '') => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n               type={type}\r\n               name={name}\r\n               component={component}\r\n               validate={validators}/>{text}\r\n    </div>\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__26MVD\",\"error\":\"FormControl_error__3gqhr\",\"formSummaryError\":\"FormControl_formSummaryError__fxO7Q\"};","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.gif';\r\n\r\nconst Preloader = (props) => {\r\n    return <div>\r\n        <img src={preloader} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","export const required = (value) => {\r\n    if(value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2xsKq\",\"pageNumber\":\"Paginator_pageNumber__2SmYi\",\"selectedPage\":\"Paginator_selectedPage__3yHDt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__p1oI7\",\"loginBlock\":\"Header_loginBlock__1ODKK\"};","import React from 'react'\r\nimport Redirect from \"react-router-dom/es/Redirect\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.authReducer.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initalState = {\r\n    postsData: [\r\n        {id: 1, post: 'How are you?', likeCount: '2'},\r\n        {id: 2, post: 'My second post!', likeCount: '6'},\r\n        {id: 3, post: 'IT-KamaSutra cool!', likeCount: '10'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initalState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 4,\r\n                post: action.newPostBody,\r\n                likeCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostBody) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostBody\r\n    }\r\n}\r\n\r\nconst setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    }\r\n}\r\n\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId\r\n    }\r\n}\r\n\r\nexport const savePhotoSuccess = (photos) => {\r\n    return {\r\n        type: SAVE_PHOTO_SUCCESS,\r\n        photos\r\n    }\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}